<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <title>FoodTrend - Access Granted</title>

  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">

  <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;500;700;800&display=swap" rel="stylesheet">
  <script src="https://unpkg.com/@phosphor-icons/web"></script>
  <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
  <link rel="stylesheet" href="styles.css">

  <style>
    /* Hero Override */
    .hero-wrapper {
      position: relative;
      height: 90vh;
      display: flex;
      align-items: center;
      justify-content: center;
      text-align: center;
      overflow: hidden;
      padding-top: 80px;
      /* Account for fixed nav */
    }

    .hero-bg {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: url('https://images.unsplash.com/photo-1555939594-58d7cb561ad1?q=80&w=1920&auto=format&fit=crop') no-repeat center center;
      background-size: cover;
      filter: brightness(0.4);
      z-index: -1;
    }

    h1 {
      font-size: clamp(3rem, 6vw, 5rem);
      line-height: 1;
      margin-bottom: 20px;
    }

    h2 {
      font-size: clamp(2rem, 4vw, 3.5rem);
      line-height: 1.1;
      margin-bottom: 20px;
      color: white;
    }

    p {
      font-size: 1.1rem;
      color: #ccc;
      line-height: 1.6;
      margin-bottom: 30px;
    }

    .btn-primary {
      background: var(--primary);
      color: white;
      border: none;
      padding: 16px 40px;
      border-radius: 99px;
      font-size: 18px;
      font-weight: 700;
      cursor: pointer;
      text-decoration: none;
      display: inline-flex;
      align-items: center;
      gap: 8px;
      box-shadow: 0 10px 40px rgba(235, 23, 0, 0.4);
      transition: transform 0.2s;
    }

    .btn-primary:hover {
      transform: translateY(-2px);
    }
  </style>
</head>

<body>

  <!-- GLASSMORPHIC NAVIGATION -->
  <nav class="glass-nav">
    <div class="nav-container">
      <!-- Logo -->
      <a href="index.html" class="nav-logo">
        <img src="restaurant/assets/logo.png" alt="FoodTrend" style="height: 60px; width: auto;">
      </a>

      <!-- Nav Link & CTA Wrapper (Parallelogram) -->
      <div class="nav-action-wrapper">
        <a href="restaurant/index.html" class="btn btn-glass-red-dark">Restaurant Partner?</a>
        <a href="#" onclick="document.getElementById('modal-signup').classList.add('active'); return false;"
          class="btn btn-glass-red">Apply for Access</a>
        <a href="#" onclick="document.getElementById('modal-login').classList.add('active'); return false;"
          class="nav-link-text">Log In</a>
      </div>
    </div>
  </nav>

  <!-- HERO -->
  <div class="hero-wrapper">
    <div class="hero-bg"></div>
    <div class="content-container">
      <h1>Eat Like Royalty.<br><span class="text-primary">Build Your Empire.</span></h1>
      <p>The exclusive network where creators get free meals, master video skills, and unlock paid brand sponsorships.
      </p>
      <div class="btn-primary" onclick="document.getElementById('modal-signup').classList.add('active')">Apply for
        Access</div>
    </div>
  </div>

  <!-- ROW 1: THE LIFESTYLE -->
  <div class="diagonal-row">
    <div class="diag-content">
      <div class="text-primary"
        style="font-weight: 700; letter-spacing: 2px; text-transform: uppercase; margin-bottom: 10px;">The Perks</div>
      <h2>Dine at the Hottest Spots for Free.</h2>
      <p>Forget paying for content. Use your Creator Credits to access complimentary meals at the city's most viral
        restaurants. We foot the bill. You get the shot.</p>
    </div>
    <div class="diag-image"
      style="background-image: url('https://images.unsplash.com/photo-1559339352-11d035aa65de?q=80&w=800&auto=format&fit=crop');">
    </div>
  </div>

  <!-- ROW 2: THE SKILL -->
  <div class="diagonal-row">
    <div class="diag-image reverse"
      style="background-image: url('https://images.unsplash.com/photo-1512428559087-560fa5ce7d87?q=80&w=800&auto=format&fit=crop');">
    </div>
    <div class="diag-content reverse">
      <div class="text-primary"
        style="font-weight: 700; letter-spacing: 2px; text-transform: uppercase; margin-bottom: 10px;">The Academy</div>
      <h2>Create Content That Stops the Scroll.</h2>
      <p>We don't just feed you; we teach you. Access our Creator Academy to master food cinematography, lighting, and
        editing hooks that blow up on TikTok.</p>
    </div>
  </div>

  <!-- BREAK: SAVINGS -->
  <div class="rect-break">
    <div class="content-container" style="max-width: 800px;">
      <h2>Stop Spending. Start Saving.</h2>
      <p>The average foodie spends hundreds a month. FoodTrend members keep that cash.</p>

      <div class="glass" style="padding: 30px; border-radius: 20px; margin-top: 30px; text-align: left;">
        <div
          style="display:flex; justify-content:space-between; font-weight:700; margin-bottom:10px; font-size: 1.2rem;">
          <span>Monthly Value</span> <span class="text-primary">$200+/mo</span>
        </div>
        <div style="height: 12px; background: rgba(255,255,255,0.1); border-radius: 6px; overflow:hidden;">
          <div style="height:100%; width:85%; background: var(--primary); border-radius: 6px;"></div>
        </div>
        <div style="font-size: 13px; color: var(--text-gray); margin-top: 15px;">*Based on 2 gigs per week.</div>
      </div>
    </div>
  </div>

  <!-- ROW 3: PAID SPONSORSHIPS -->
  <div class="diagonal-row">
    <div class="diag-content">
      <div class="text-primary"
        style="font-weight: 700; letter-spacing: 2px; text-transform: uppercase; margin-bottom: 10px;">The Career</div>
      <h2>Unlock Paid Brand Sponsorships.</h2>
      <p>Once you prove your impact, you unlock paid gigs. Top creators are earning residuals promoting brands they
        actually love.</p>
    </div>
    <div class="diag-image"
      style="background-image: url('https://images.unsplash.com/photo-1550547660-d9450f859349?q=80&w=800&auto=format&fit=crop');">
    </div>
  </div>

  <!-- FOOTER -->
  <div style="padding: 80px 20px; text-align: center; background: #000; border-top: 4px solid var(--primary);">
    <div class="logo" style="justify-content: center; margin-bottom: 30px;">
      <i class="ph-fill ph-fire text-primary"></i> FoodTrend
    </div>
    <p class="text-gray" style="margin-bottom: 40px;">Empowering the next generation of food creators.</p>
    <div class="btn-primary" onclick="document.getElementById('modal-signup').classList.add('active')">Start Your
      Journey</div>
    <div style="margin-top: 60px; font-size: 12px; color: #444;">Â© 2026 FoodTrend Inc.</div>
  </div>

  <!-- SIGNUP MODAL (Reusing Logic) -->
  <div id="modal-signup" class="modal-overlay">
    <div class="modal-content glass">
      <button class="close-modal" onclick="this.closest('.modal-overlay').classList.remove('active')"><i
          class="ph ph-x"></i></button>
      <div style="text-align:center;">
        <h2 style="font-size: 2rem;">Apply for Access</h2>
        <p class="text-gray" style="margin-bottom: 20px;">Join the waitlist.</p>
        <div style="text-align:left; display:flex; flex-direction:column; gap:15px;">
          <input type="text" id="s-name" placeholder="Full Name" class="search-input"
            style="padding: 15px; background: rgba(0,0,0,0.5); border-radius: 12px;">
          <input type="email" id="s-email" placeholder="Email Address" class="search-input"
            style="padding: 15px; background: rgba(0,0,0,0.5); border-radius: 12px;">
          <input type="password" id="s-pass" placeholder="Create Password" class="search-input"
            style="padding: 15px; background: rgba(0,0,0,0.5); border-radius: 12px;">
        </div>
        <button id="btn-signup" onclick="handleSignup()" class="btn-primary"
          style="margin-top: 25px; width: 100%; justify-content: center;">Submit Application</button>
        <div id="s-msg" style="color: #ff4444; font-size: 12px; margin-top: 10px;"></div>
      </div>
    </div>
  </div>

  <!-- LOGIN MODAL -->
  <div id="modal-login" class="modal-overlay">
    <div class="modal-content glass" style="min-height: auto;">
      <button class="close-modal" onclick="this.closest('.modal-overlay').classList.remove('active')"><i
          class="ph ph-x"></i></button>
      <div style="text-align:center;">
        <h2 style="font-size: 2rem;">Welcome Back</h2>
        <div style="text-align:left; display:flex; flex-direction:column; gap:15px;">
          <input type="email" id="l-email" placeholder="Email" class="search-input"
            style="padding: 15px; background: rgba(0,0,0,0.5); border-radius: 12px;">
          <input type="password" id="l-pass" placeholder="Password" class="search-input"
            style="padding: 15px; background: rgba(0,0,0,0.5); border-radius: 12px;">
        </div>
        <button onclick="handleLogin()" class="btn-primary"
          style="margin-top: 25px; width: 100%; justify-content: center;">Enter</button>
        <div id="l-msg" style="color: #ff4444; font-size: 12px; margin-top: 10px;"></div>
      </div>
    </div>
  </div>

  <script>
    const sbUrl = 'https://vsgljspzmynbqfyuvyyl.supabase.co';
    const sbKey = 'sb_publishable_eH52Wo-WDJ7WkasY4GejOw_b0xUYZ-_';
    const db = supabase.createClient(sbUrl, sbKey);

    async function handleSignup() {
      const email = document.getElementById('s-email').value;
      const password = document.getElementById('s-pass').value;
      const name = document.getElementById('s-name').value;
      const btn = document.getElementById('btn-signup');
      const msg = document.getElementById('s-msg');

      if (!email || !password) { msg.innerText = "Please enter both email and password."; return; }
      msg.innerText = ''; btn.innerText = 'Processing...'; btn.disabled = true;

      try {
        if (!db) throw new Error("Database connection failed");
        const { data, error } = await db.auth.signUp({ email, password, options: { data: { full_name: name } } });
        if (error) throw error;

        // Webhook
        try {
          await fetch('https://hook.us2.make.com/la03ir2xcyt8ny7nyo9em8btj6cvc2d4', {
            method: 'POST', headers: { 'Content-Type': 'application/json' },
            body: JSON.stringify({ name, email, uid: data.user?.id || 'unknown' })
          });
        } catch (e) { console.error('Webhook failed', e); }

        window.location.href = 'gigs.html';
      } catch (err) {
        console.error(err);
        msg.innerText = err.message || "Error";
        btn.innerText = 'Submit Application'; btn.disabled = false;
      }
    }

    async function handleLogin() {
      const email = document.getElementById('l-email').value;
      const password = document.getElementById('l-pass').value;
      const { data, error } = await db.auth.signInWithPassword({ email, password });
      if (error) document.getElementById('l-msg').innerText = error.message;
      else window.location.href = 'gigs.html';
    }
  </script>
</body>

</html>